---
layout: single
title: "Automatic migration of files to Jekyll _posts directory"
categories: ["Python"]
tag: [automation, python]
author_profile: true
sidebar_main: true
---

It's been almost over a week since I created my github.io blog site. I've been writing posts about deep learning and python until now.

But then, I realized that I have **tons** of my leetcode codes that I've been doing for years. It's more than 600 in total.

Of course, I'm not going to copy&paste each one. The extension of my codes is `.cpp` and I have to convert to `.md` file. Plus, I have to provide

```markdown
---
layout: single
title: "[Python] Variables"
categories: ["Python"]
tag: [python]
author_profile: true
sidebar_main: true
---
```

for every post.

So I wrote a python program that automatically converts `.cpp` file into the correct format.

Here's a list of `.cpp` files that I want to migrate.

![img](../../assets/images/Python/migrate.png)

I created `migrate.py` which does all the job. Let's look inside.

````python
import os
import sys
import re # regex module

# Move to the directory where all your codes are residing.

fname_list = os.listdir() # Get the list of files in the current dir
category_title = 'DP' # This is just something that goes in the title for github.io
category = 'dp' # category name
date = '2022-02-02-' # posting date

# Loop over all the files
for fname in fname_list:
    if os.path.isdir(fname): # skip if it's directory
        break

    # The header for jekyll post.
    with open(fname, 'r') as file:
        contents = f'---\nlayout: single\ntitle: "[{category_title}]{fname[:-4]}"\ncategories: ["{category}"]\ntag: [algorithm, {category}]\n---\n```cpp\n'
        while True:
            line = file.readline()
            if not line:
                break
            contents += line

    contents += '\n```'

    # file name processing
    fname = re.sub('.cpp', '.md', fname.strip()) # convert .cpp to .md / remove whitespaces
    fname = re.sub('#','',fname) # remove #
    fname = re.sub("\s","",fname)# remove whitespaces
    fname = f'{date}'+fname # jekyll(minimal-mistakes) file name format

    # write file
    f = open(f'./mdfiles/{fname}','w') # create mdfiles/ dir and save there
    f.write(contents)
    f.close()

````

After you run the file, you'll see the converted files are saved in `mdfiles/` directory. Let's see.

![img](../../assets/images/Python/migrate2.png)

Now let's look one of the files if it's correctly converted.

![img](../../assets/images/Python/migrate3.png)

Great. Everything seems good. Now move all these files into whatever location you created under `_posts`.
